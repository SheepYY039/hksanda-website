{"version":3,"sources":["webpack:///./src/views/Assessments/SyllabusView.vue","webpack:///./src/views/Assessments/SyllabusView.vue?20c9","webpack:///./src/views/Assessments/AssessmentsPage.vue","webpack:///./src/views/Assessments/AssessmentsPage.vue?6996","webpack:///./src/apollo/assessment-syllabus.js","webpack:///./src/views/Assessments/HKBadgeView.vue","webpack:///./src/views/Assessments/HKBadgeView.vue?6bf7"],"names":["_createElementVNode","class","_hoisted_1","_createVNode","_component_DeferredContent","_component_TabView","scrollable","_createElementBlock","_Fragment","_renderList","_ctx","syllabus","index","_createBlock","_component_TabPanel","key","id","header","level","_component_Button","label","onClick","$options","item","i","type","_hoisted_3","name","apollo","getAssessmentSyllabus","query","GET_SYLLABUS","setup","useMeta","title","data","editingSyllabus","syllabusIndex","computed","mapGetters","methods","mapActions","edit","this","modelDetails","content","submitFunction","submitChange","toggleModel","create","newContent","assessment","Object","assign","push","$apollo","mutate","mutation","MODIFY_SYLLABUS","variables","levelId","__exports__","render","_component_router_view","htmlAttrs","lang","mounted","$nextTick","localizePage","gql","_component_render_view","view","components","RenderView","getViewByRoute","syllabuses","console","log","map","filter","includes"],"mappings":"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","file":"js/assessments.527d4028.js","sourcesContent":["<template>\n    <h1>武術自衛散打 - 考试动作</h1>\n    <DeferredContent>\n        <TabView :scrollable=\"true\">\n            <TabPanel\n                v-for=\"(syllabus, index) in getAssessmentSyllabus\"\n                :key=\"syllabus.id\"\n                :header=\"syllabus.level\"\n            >\n                <Button\n                    v-if=\"isAdmin\"\n                    label=\"添加項目\"\n                    @click=\"create(index)\"\n                />\n                <ol class=\"list-group list-group-flush list-group-numbered\">\n                    <li\n                        v-for=\"(item, i) in syllabus.syllabus\"\n                        :key=\"item\"\n                        class=\"list-group-item\"\n                    >\n                        {{ item }}\n                        <button\n                            v-if=\"isAdmin\"\n                            class=\"btn btn-primary mb-3\"\n                            type=\"submit\"\n                            @click=\"edit(index, i)\"\n                        >\n                            編輯\n                        </button>\n                    </li>\n                </ol>\n            </TabPanel>\n        </TabView>\n    </DeferredContent>\n</template>\n\n<script>\nimport {GET_SYLLABUS, MODIFY_SYLLABUS} from \"@/apollo/assessment-syllabus\";\nimport {useMeta} from \"vue-meta\";\nimport {mapActions, mapGetters} from \"vuex\";\n\nexport default {\n    name: \"SyllabusView\",\n    apollo: {\n        getAssessmentSyllabus: {query: GET_SYLLABUS},\n    },\n    setup() {\n        useMeta({\n            title: \"考試動作\",\n        });\n    },\n    data() {\n        return {\n            editingSyllabus: -1,\n            syllabusIndex: -1,\n        };\n    },\n    computed: {\n        ...mapGetters([\"isAdmin\"]),\n    },\n    methods: {\n        ...mapActions([\"toggleModel\"]),\n        edit(index, i) {\n            this.editingSyllabus = index;\n            this.syllabusIndex = i;\n            const modelDetails = {\n                content: this.getAssessmentSyllabus[index].syllabus[i],\n                submitFunction: this.submitChange,\n                type: \"syllabus\",\n            };\n            this.toggleModel(modelDetails);\n        },\n        create(index) {\n            this.editingSyllabus = index;\n            this.syllabusIndex = -1;\n            const modelDetails = {\n                content: \"\",\n                submitFunction: this.submitChange,\n                type: \"syllabus\",\n            };\n            this.toggleModel(modelDetails);\n        },\n        submitChange(newContent) {\n            // id of view\n            const assessment = Object.assign(\n                {},\n                this.getAssessmentSyllabus[this.editingSyllabus]\n            );\n\n            let syllabus = Object.assign([], assessment.syllabus);\n            if (this.syllabusIndex >= 0) {\n                syllabus[this.syllabusIndex] = newContent;\n            } else {\n                syllabus.push(newContent);\n            }\n            this.$apollo.mutate({\n                mutation: MODIFY_SYLLABUS,\n                variables: {\n                    level: {\n                        level: assessment.name,\n                        levelId: assessment.id,\n                        syllabus: syllabus,\n                    },\n                },\n            });\n            this.editingSyllabus = -1;\n            this.syllabusIndex = -1;\n        },\n    },\n};\n</script>\n","import { render } from \"./SyllabusView.vue?vue&type=template&id=0e1a4b6a\"\nimport script from \"./SyllabusView.vue?vue&type=script&lang=js\"\nexport * from \"./SyllabusView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yyymx/Dev/Projects/Current/hksanda-website/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <router-view />\n</template>\n\n<script>\nimport { useMeta } from \"vue-meta\";\nimport { mapActions } from \"vuex\";\n\nexport default {\n    name: \"AssessmentsPage\",\n    setup() {\n        useMeta({\n            title: \"考試\",\n            htmlAttrs: {\n                lang: \"zh-HK\",\n                // amp: true\n            },\n        });\n    },\n    mounted() {\n        this.$nextTick(() => {\n            this.localizePage();\n        });\n    },\n    methods: {\n        ...mapActions([\"localizePage\"]),\n    },\n};\n</script>\n","import { render } from \"./AssessmentsPage.vue?vue&type=template&id=78362cc7\"\nimport script from \"./AssessmentsPage.vue?vue&type=script&lang=js\"\nexport * from \"./AssessmentsPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yyymx/Dev/Projects/Current/hksanda-website/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import gql from \"graphql-tag\";\n\nexport const GET_SYLLABUS = gql`\n    query GetAssessmentSyllabusQuery {\n        getAssessmentSyllabus {\n            syllabus\n            level\n            id\n        }\n    }\n`;\n\nexport const MODIFY_SYLLABUS = gql`\n    mutation UpdateAssessmentSyllabusMutation($level: SyllabusInput) {\n        updateAssessmentSyllabus(level: $level) {\n            id\n            level\n            syllabus\n        }\n    }\n`;\n","<template>\n    <div id=\"hk-badge\">\n        <render-view :view=\"view\" />\n        <TabView>\n            <TabPanel\n                v-for=\"syllabus in syllabuses\"\n                :key=\"syllabus.id\"\n                :header=\"syllabus.level\"\n            >\n                <ol class=\"list-group list-group-flush list-group-numbered\">\n                    <li\n                        v-for=\"item in syllabus.syllabus\"\n                        :key=\"item\"\n                        class=\"list-group-item\"\n                    >\n                        {{ item }}\n                    </li>\n                </ol>\n            </TabPanel>\n        </TabView>\n    </div>\n</template>\n\n<script>\nimport {GET_SYLLABUS} from \"@/apollo/assessment-syllabus\";\nimport {useMeta} from \"vue-meta\";\nimport {mapGetters} from \"vuex\";\nimport RenderView from \"@/components/others/RenderView.vue\";\n\nexport default {\n    name: \"HKBadge\",\n    components: {RenderView},\n    setup() {\n        useMeta({\n            title: \"武術散打章別全港公開試\",\n        });\n    },\n    apollo: {\n        getAssessmentSyllabus: {query: GET_SYLLABUS},\n    },\n    computed: {\n        ...mapGetters([\"getViewByRoute\"]),\n        view() {\n            return this.getViewByRoute(\"/assessments/hk-badge\");\n        },\n        syllabuses() {\n            // NOTE: Change text to a better expression?\n            console.log(this.getAssessmentSyllabus);\n            const syllabuses = this.getAssessmentSyllabus\n                ? this.getAssessmentSyllabus.map((level) => ({\n                    syllabus: level.syllabus.filter((syllabus) =>\n                        syllabus.includes(\"規定動作\")\n                    ),\n                    level: level.level,\n                }))\n                : [];\n\n            console.log(syllabuses)\n\n            return syllabuses;\n        },\n    },\n};\n</script>\n","import { render } from \"./HKBadgeView.vue?vue&type=template&id=4062158d\"\nimport script from \"./HKBadgeView.vue?vue&type=script&lang=js\"\nexport * from \"./HKBadgeView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/yyymx/Dev/Projects/Current/hksanda-website/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}