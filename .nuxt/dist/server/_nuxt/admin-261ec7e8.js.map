{"version":3,"file":"admin-261ec7e8.js","sources":["../../../../pages/admin.vue"],"sourcesContent":["<template>\n    <form ref=\"form\" @submit=\"submitCredentials\">\n        <div class=\"form-group mb-3\">\n            <label class=\"form-label\" for=\"usernameInput\" html-for=\"usernameInput\">用户<input id=\"usernameInput\"\n                    v-model=\"username\" class=\"form-control\" type=\"text\"></label>\n        </div>\n        <div class=\"form-group mb-3\">\n            <label class=\"form-label\" for=\"passwordInput\" html-for=\"passwordInput\">密码\n                <input id=\"passwordInput\" v-model=\"password\" class=\"form-control\" type=\"password\">\n            </label>\n        </div>\n        <button class=\"btn btn-primary\" type=\"submit\">\n            登入\n        </button>\n    </form>\n</template>\n\n<script setup>\nimport bcrypt from \"bcryptjs\";\n\nconst username = ref(\"\")\nconst password = ref(\"\")\n\nconst store = useMainStore();\nconst { getIsAdmin } = storeToRefs(store);\nconst { setIsAdmin } = store;\n\nfunction submitCredentials(e) {\n    e.preventDefault();\n    // const password = password;\n    const hash =\n        \"$2a$10$F7yekPuUXAEhtfWTyGKL8OQLF7XtsWdpV8a/g5mZkz1f/uydVIS3q\";\n\n    const isPasswordCorrect = bcrypt.compareSync(password, hash);\n\n    if (isPasswordCorrect && username === \"fyc2005\") {\n        setIsAdmin();\n        // TODO: Update to new router \n        this.$router.push({ path: \"/\", replace: true });\n    }\n}\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBA,UAAM,WAAW,IAAI,EAAE;AACvB,UAAM,WAAW,IAAI,EAAE;AAEvB,UAAM,QAAQ,aAAY;AACH,gBAAY,KAAK;;;;;;;;;;;;"}